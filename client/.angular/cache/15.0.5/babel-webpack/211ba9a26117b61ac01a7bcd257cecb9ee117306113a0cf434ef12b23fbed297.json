{"ast":null,"code":"import { AdvertsComponent } from '../Adverts/adverts/adverts.component';\nimport { AddDeliveryComponent } from '../orders/add-delivery/add-delivery.component';\nimport { ProductBrandComponent } from '../products/product-brand/product-brand.component';\nimport { ProductTypeComponent } from '../products/product-type/product-type.component';\nimport { ItemsComponent } from '../products/productItems/items/items.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"../orders/orders.service\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"../Account/account.service\";\nimport * as i5 from \"../Adverts/adverts/adverts.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/router\";\nfunction AdminComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"strong\", 4);\n    i0.ɵɵtext(2, \" Sorry!!! Only the admin can access this page \");\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \"Why not continue by clicking products and making orders..\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AdminComponent_ng_container_0_div_2_ng_container_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"strong\", 20);\n    i0.ɵɵtext(2, \"No order(s) fron a customer by this time.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction AdminComponent_ng_container_0_div_2_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 21)(1, \"th\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const order_r10 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/Admin/\", order_r10.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r10.adminOrderId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", order_r10.shippingAddress.firstName + \" \" + order_r10.shippingAddress.middleName + \" \" + order_r10.shippingAddress.lastName, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r10.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r10.shippingAddress.phone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 8, order_r10.orderDate, \"medium\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(order_r10.orderStatus);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(order_r10.confirmation);\n  }\n}\nfunction AdminComponent_ng_container_0_div_2_div_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"strong\", 22);\n    i0.ɵɵtext(2, \"No delivery available\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdminComponent_ng_container_0_div_2_ng_container_41_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"Strong\");\n    i0.ɵɵtext(2, \" Name: \");\n    i0.ɵɵelementStart(3, \"strong\", 22);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" , Time: \");\n    i0.ɵɵelementStart(6, \"strong\", 22);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \", Price: \");\n    i0.ɵɵelementStart(9, \"strong\", 22);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function AdminComponent_ng_container_0_div_2_ng_container_41_div_3_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const item_r12 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r13.deleteDelivery(item_r12.id));\n    });\n    i0.ɵɵtext(12, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r12 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r12.delName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r12.delTime);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\\u00A3\", item_r12.delPrice, \"\");\n  }\n}\nfunction AdminComponent_ng_container_0_div_2_ng_container_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h2\", 23);\n    i0.ɵɵtext(2, \"List of deliveries available\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, AdminComponent_ng_container_0_div_2_ng_container_41_div_3_Template, 13, 3, \"div\", 24);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.deliveries);\n  }\n}\nfunction AdminComponent_ng_container_0_div_2_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"strong\", 22);\n    i0.ɵɵtext(2, \"No advert available\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdminComponent_ng_container_0_div_2_ng_container_50_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"marquee\", 26)(2, \"strong\")(3, \"strong\", 27);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function AdminComponent_ng_container_0_div_2_ng_container_50_div_1_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const item_r16 = restoredCtx.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r17.deleteAdvert(item_r16.id));\n    });\n    i0.ɵɵtext(6, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r16 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r16.advert);\n  }\n}\nfunction AdminComponent_ng_container_0_div_2_ng_container_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AdminComponent_ng_container_0_div_2_ng_container_50_div_1_Template, 7, 1, \"div\", 24);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.advertsString);\n  }\n}\nfunction AdminComponent_ng_container_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"h1\", 3)(2, \"strong\", 6);\n    i0.ɵɵtext(3, \" You are the Admin\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"marquee\", 7);\n    i0.ɵɵtext(5, \"Now that you've login as the admin, you can delete any product on the product page; add advert(s) to the end of the display strings on the product page; add and remove brands and types; confirm or delete order, etc. Thanks. Thanks\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8)(7, \"div\", 9)(8, \"div\", 10)(9, \"table\", 11)(10, \"thead\", 12)(11, \"tr\")(12, \"th\");\n    i0.ɵɵtext(13, \"ORDER\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"CUSTOMER NAME\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\");\n    i0.ɵɵtext(17, \"CUSTOMER EMAIL\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\");\n    i0.ɵɵtext(19, \"CUSTOMER PHONE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\");\n    i0.ɵɵtext(21, \"DATE\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"th\");\n    i0.ɵɵtext(23, \"STATUS\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\");\n    i0.ɵɵtext(25, \"CONFIRMATION\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(26, \"tbody\")(27, \"tr\")(28, \"div\", 3);\n    i0.ɵɵtemplate(29, AdminComponent_ng_container_0_div_2_ng_container_29_Template, 3, 0, \"ng-container\", 0);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(30, AdminComponent_ng_container_0_div_2_tr_30_Template, 16, 11, \"tr\", 13);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(31, \"div\", 14)(32, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AdminComponent_ng_container_0_div_2_Template_button_click_32_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.openUploadProduct());\n    });\n    i0.ɵɵtext(33, \" Upload new product here \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AdminComponent_ng_container_0_div_2_Template_button_click_34_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.openUploadType());\n    });\n    i0.ɵɵtext(35, \" Add product type here \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AdminComponent_ng_container_0_div_2_Template_button_click_36_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r22.openUploadBrand());\n    });\n    i0.ɵɵtext(37, \" Add product brand here \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"div\", 16)(39, \"div\", 17);\n    i0.ɵɵtemplate(40, AdminComponent_ng_container_0_div_2_div_40_Template, 3, 0, \"div\", 0);\n    i0.ɵɵtemplate(41, AdminComponent_ng_container_0_div_2_ng_container_41_Template, 4, 1, \"ng-container\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 3)(43, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AdminComponent_ng_container_0_div_2_Template_button_click_43_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.openAddDelivery());\n    });\n    i0.ɵɵtext(44, \" Add new delivery \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(45, \"div\", 18)(46, \"h2\");\n    i0.ɵɵtext(47, \"Current Adverts\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"div\", 19);\n    i0.ɵɵtemplate(49, AdminComponent_ng_container_0_div_2_div_49_Template, 3, 0, \"div\", 0);\n    i0.ɵɵtemplate(50, AdminComponent_ng_container_0_div_2_ng_container_50_Template, 2, 1, \"ng-container\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function AdminComponent_ng_container_0_div_2_Template_button_click_51_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.openAdvertDialog());\n    });\n    i0.ɵɵtext(52, \" Add new adverts \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(29);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.adminOrders.length == 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.adminOrders);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.delNotice == false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.delNotice == true);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.notice == true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.notice == false);\n  }\n}\nfunction AdminComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AdminComponent_ng_container_0_div_1_Template, 5, 0, \"div\", 1);\n    i0.ɵɵtemplate(2, AdminComponent_ng_container_0_div_2_Template, 53, 6, \"div\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", user_r1.email != \"godwinbillions@gmail.com\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", user_r1.email == \"godwinbillions@gmail.com\");\n  }\n}\nexport class AdminComponent {\n  constructor(matdialog, orderservice, toastr, accountService, advert) {\n    this.matdialog = matdialog;\n    this.orderservice = orderservice;\n    this.toastr = toastr;\n    this.accountService = accountService;\n    this.advert = advert;\n    this.admin = \"\";\n    this.customerName = \"\";\n    this.adminOrders = [];\n    this.confirm = false;\n    this.advertsString = [];\n    this.errors = null;\n    this.notice = false;\n    this.delNotice = false;\n    this.deliveries = [];\n  }\n  ngOnInit() {\n    this.GetPaidOrders();\n    this.GetAdverts();\n    this.GetDelivery();\n  }\n  openUploadProduct() {\n    this.closeDialog();\n    this.matdialog.open(ItemsComponent, {\n      height: 'auto',\n      width: '80%'\n    });\n  }\n  openUploadType() {\n    this.closeDialog();\n    this.matdialog.open(ProductTypeComponent, {\n      height: 'auto',\n      width: '40%'\n    });\n  }\n  closeDialog() {\n    this.matdialog.closeAll(); // <- Close the mat dialog\n  }\n\n  openUploadBrand() {\n    this.closeDialog();\n    this.matdialog.open(ProductBrandComponent, {\n      height: 'auto',\n      width: '40%'\n    });\n  }\n  openAddDelivery() {\n    this.closeDialog();\n    this.matdialog.open(AddDeliveryComponent, {\n      height: 'auto',\n      width: '70%'\n    });\n  }\n  openAdvertDialog() {\n    this.closeDialog();\n    this.matdialog.open(AdvertsComponent, {\n      height: 'auto',\n      width: '40%'\n    });\n  }\n  GetPaidOrders() {\n    this.orderservice.GetAdminOrders().subscribe({\n      next: adminOrders => {\n        this.adminOrders = adminOrders;\n      }\n    });\n  }\n  confirmer() {\n    this.confirm = true;\n  }\n  GetAdverts() {\n    this.advert.getAdverts().subscribe({\n      next: advert => {\n        if (advert) this.advertsString = advert;\n        if (advert.length == 0) {\n          this.exit = 0;\n          this.notice = true;\n        }\n        for (let x of advert) {\n          this.exit = x.time;\n          setInterval(() => {\n            this.deleteAdvert(x.id);\n          }, x.time * 1000);\n        }\n      },\n      error: error => {\n        this.errors = error.errors;\n        this.toastr.success(\"Can't get advert Ids\");\n      }\n    });\n  }\n  deleteDelivery(id) {\n    console.log(33);\n    this.orderservice.deleteDelivery(id).subscribe({\n      next: yes => {\n        if (yes) {\n          window.location.reload();\n          this.toastr.success(\"delivery deleted\");\n        }\n      },\n      error: error => {\n        this.errors = error.errors;\n        this.toastr.success(\"Delivery not delivery\");\n      }\n    });\n  }\n  deleteAdvert(id) {\n    this.advert.deleteAdverts(id).subscribe({\n      next: yes => {\n        if (yes) {\n          this.toastr.success(\"Advert deleted\");\n          window.location.reload();\n        }\n      },\n      error: error => {\n        this.errors = error.errors;\n        this.toastr.success(\"Can't get advert Ids\");\n      }\n    });\n  }\n  GetDelivery() {\n    this.orderservice.getDelivery().subscribe({\n      next: deliveries => {\n        this.delNotice = true;\n        this.deliveries = deliveries;\n      },\n      error: error => console.log(error)\n    });\n  }\n}\nAdminComponent.ɵfac = function AdminComponent_Factory(t) {\n  return new (t || AdminComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.OrdersService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.UserAccountService), i0.ɵɵdirectiveInject(i5.AdvertsService));\n};\nAdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AdminComponent,\n  selectors: [[\"app-admin\"]],\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"admin\", 4, \"ngIf\"], [1, \"text-center\"], [2, \"color\", \"red\", \"font-weight\", \"bolder\", \"font-size\", \"xx-large\"], [1, \"admin\"], [2, \"color\", \"purple\", \"font-weight\", \"bolder\"], [\"scrollamount\", \"4\"], [1, \"container\", \"mt-5\", 2, \"margin-top\", \"200px\"], [1, \"row\"], [1, \"col-12\"], [1, \"table\", \"table-hover\", 2, \"cursor\", \"pointer\"], [1, \"thead-light\"], [3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [1, \"justify-content-center\", 2, \"padding-bottom\", \"50px\"], [1, \"btn\", \"btn-primary\", \"m-5\", 3, \"click\"], [2, \"border\", \"black 3px solid\", \"border-radius\", \"7px\", \"padding\", \"20px\", \"margin\", \"10px\"], [1, \"text-center\", 2, \"background-color\", \"grey\", \"max-height\", \"200px\", \"width\", \"80%\", \"margin\", \"0 auto\", \"border-radius\", \"20px\", \"overflow\", \"scroll\"], [1, \"text-center\", 2, \"border\", \"black 3px solid\", \"border-radius\", \"7px\", \"padding\", \"20px\", \"margin\", \"10px\"], [2, \"background-color\", \"grey\", \"max-height\", \"100px\", \"width\", \"80%\", \"margin\", \"0 auto\", \"border-radius\", \"20px\", \"overflow\", \"scroll\"], [2, \"color\", \"red\"], [3, \"routerLink\"], [2, \"color\", \"white\"], [2, \"color\", \"Blue\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [\"scrollAmount\", \"2\", \"onmouseover\", \"this.stop();\", \"onmouseout\", \"this.start();\"], [2, \"color\", \"gold\"]],\n  template: function AdminComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, AdminComponent_ng_container_0_Template, 3, 2, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.accountService.AppUser$));\n    }\n  },\n  dependencies: [i6.NgForOf, i6.NgIf, i7.RouterLink, i6.AsyncPipe, i6.DatePipe],\n  styles: [\".admin[_ngcontent-%COMP%]{margin-top:100px}.container[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;overflow:scroll;margin-left:auto;border:2px solid black;border-radius:10px;background-color:#f5fffa;position:relative}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}