{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"./adverts.service\";\nimport * as i6 from \"../../Account/text-inputs/text-inputs.component\";\nexport class AdvertsComponent {\n  constructor(formbuilder, router, matdialog, toastr, advert) {\n    this.formbuilder = formbuilder;\n    this.router = router;\n    this.matdialog = matdialog;\n    this.toastr = toastr;\n    this.advert = advert;\n    this.errors = null;\n    this.advertForm = this.formbuilder.group({\n      advert: ['', [Validators.required]],\n      time: ['']\n    });\n  }\n  submitAdvert() {\n    this.advert.submitAdvert(this.advertForm.value).subscribe({\n      next: advert => {\n        this.closeDialog();\n        this.toastr.success(\"Advert added\");\n        window.location.reload();\n      },\n      error: error => {\n        this.errors = error.errors;\n        this.toastr.success(\"Advert not added\");\n      }\n    });\n  }\n  closeDialog() {\n    this.matdialog.closeAll(); // <- Close the mat dialog\n  }\n}\n\nAdvertsComponent.ɵfac = function AdvertsComponent_Factory(t) {\n  return new (t || AdvertsComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatDialog), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.AdvertsService));\n};\nAdvertsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AdvertsComponent,\n  selectors: [[\"app-adverts\"]],\n  decls: 14,\n  vars: 7,\n  consts: [[2, \"background-color\", \"lightgray\", \"padding-bottom\", \"20px\", \"border\", \"3px solid green\"], [1, \"align-content-left\"], [\"mat-dialog-close\", \"\", 1, \"btn\", \"btn-danger\", 2, \"margin-top\", \"15px\", \"margin-left\", \"5px\"], [1, \"text-center\", 2, \"color\", \"blue\", \"padding\", \"0\"], [1, \"d-flex\", \"justify-content-center\", 2, \"width\", \"auto\", \"height\", \"auto\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"text-center\", \"mt-5\"], [3, \"formControl\", \"label\"], [3, \"formControl\", \"type\", \"label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-lg\", \"btn-success\", 2, \"margin-top\", \"10px\", 3, \"disabled\"]],\n  template: function AdvertsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n      i0.ɵɵtext(3, \" x \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"h1\");\n      i0.ɵɵtext(6, \"Enter Advert Now\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"form\", 5);\n      i0.ɵɵlistener(\"ngSubmit\", function AdvertsComponent_Template_form_ngSubmit_8_listener() {\n        return ctx.submitAdvert();\n      });\n      i0.ɵɵelementStart(9, \"div\", 6);\n      i0.ɵɵelement(10, \"app-text-inputs\", 7)(11, \"app-text-inputs\", 8);\n      i0.ɵɵelementStart(12, \"button\", 9);\n      i0.ɵɵtext(13, \" Add \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"formGroup\", ctx.advertForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formControl\", ctx.advertForm.controls[\"advert\"])(\"label\", \"Enter text\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formControl\", ctx.advertForm.controls[\"time\"])(\"type\", \"number\")(\"label\", \"Lifespan(seconds)\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.advertForm.invalid);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormControlDirective, i1.FormGroupDirective, i6.TextInputsComponent, i3.MatDialogClose],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAAsBA,UAAU,QAAQ,gBAAgB;;;;;;;;AAWxD,OAAM,MAAOC,gBAAgB;EAK3BC,YACUC,WAAuB,EACvBC,MAAe,EACfC,SAAqB,EACrBC,MAAsB,EACtBC,MAAuB;IAJvB,gBAAW,GAAXJ,WAAW;IACX,WAAM,GAANC,MAAM;IACN,cAAS,GAATC,SAAS;IACT,WAAM,GAANC,MAAM;IACN,WAAM,GAANC,MAAM;IARhB,WAAM,GAAqB,IAAI;IAY/B,eAAU,GAAG,IAAI,CAACJ,WAAW,CAACK,KAAK,CAAC;MAClCD,MAAM,EAAE,CAAC,EAAE,EAAC,CAACP,UAAU,CAACS,QAAQ,CAAC,CAAC;MAClCC,IAAI,EAAE,CAAC,EAAE;KAEZ,CAAC;EANG;EAQLC,YAAY;IACV,IAAI,CAACJ,MAAM,CAACI,YAAY,CAAC,IAAI,CAACC,UAAU,CAACC,KAAK,CAAC,CAACC,SAAS,CAAC;MACxDC,IAAI,EAAGR,MAAM,IAAG;QACd,IAAI,CAACS,WAAW,EAAE;QAClB,IAAI,CAACV,MAAM,CAACW,OAAO,CAAC,cAAc,CAAC;QACnCC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;MAC1B,CAAC;MACCC,KAAK,EAAGA,KAAK,IAAG;QACd,IAAI,CAACC,MAAM,GAAGD,KAAK,CAACC,MAAM;QAC1B,IAAI,CAAChB,MAAM,CAACW,OAAO,CAAC,kBAAkB,CAAC;MACzC;KACH,CAAC;EAEJ;EAEAD,WAAW;IACT,IAAI,CAACX,SAAS,CAACkB,QAAQ,EAAE,CAAC,CAAC;EAC7B;;;AArCatB,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAuB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ7BC,8BAAuF;MAI3EA,mBACJ;MAAAA,iBAAS;MAGTA,8BAAyD;MAAKA,gCAAgB;MAAAA,iBAAK;MAEvFA,8BAA6E;MAEpCA;QAAA,OAAYC,kBAAc;MAAA,EAAC;MACxDD,8BAA8B;MACtBA,sCAC2C;MAG/CA,kCACwE;MACrEA,sBACH;MAAAA,iBAAS;;;MATXA,eAA0B;MAA1BA,0CAA0B;MAEHA,eAA6C;MAA7CA,+DAA6C;MAE7CA,eAA2C;MAA3CA,6DAA2C;MAErDA,eAA+B;MAA/BA,iDAA+B","names":["Validators","AdvertsComponent","constructor","formbuilder","router","matdialog","toastr","advert","group","required","time","submitAdvert","advertForm","value","subscribe","next","closeDialog","success","window","location","reload","error","errors","closeAll","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/godwinonah/Documents/TheBags/client/src/app/Adverts/adverts/adverts.component.ts","/Users/godwinonah/Documents/TheBags/client/src/app/Adverts/adverts/adverts.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { AdvertsService } from './adverts.service';\n\n@Component({\n  selector: 'app-adverts',\n  templateUrl: './adverts.component.html',\n  styleUrls: ['./adverts.component.scss']\n})\nexport class AdvertsComponent {\n\n  errors : string[] | null = null;\n  \n\n  constructor(\n    private formbuilder:FormBuilder,\n    private router : Router,\n    private matdialog : MatDialog,\n    private toastr : ToastrService,\n    private advert : AdvertsService\n   \n   ){}\n\n  advertForm = this.formbuilder.group({\n    advert: ['',[Validators.required]],\n    time: [''],\n    \n});\n\nsubmitAdvert(){\n  this.advert.submitAdvert(this.advertForm.value).subscribe({\n    next : advert => {\n      this.closeDialog();\n      this.toastr.success(\"Advert added\"); \n      window.location.reload();   \n    },\n      error : error => { \n        this.errors = error.errors\n        this.toastr.success(\"Advert not added\");\n      }\n  });\n\n}\n\ncloseDialog(){\n  this.matdialog.closeAll(); // <- Close the mat dialog\n}\n}\n\n\n","<div style=\"background-color: lightgray;padding-bottom: 20px;border:3px solid green ;\">\n    <div class=\"align-content-left\">\n        <button style=\"margin-top: 15px;margin-left: 5px;\"\n        class=\" btn btn-danger\"  mat-dialog-close>\n            x    \n        </button>\n        </div>\n    \n        <div class=\"text-center\" style=\"color:blue ;padding: 0;\"> <h1>Enter Advert Now</h1></div>\n       \n    <div class=\"d-flex justify-content-center\" style=\"width: auto;height: auto;\">\n    \n            <form [formGroup] = \"advertForm\" (ngSubmit)=\"submitAdvert()\">\n                <div class=\"text-center mt-5\">\n                        <app-text-inputs [formControl]=\"advertForm.controls['advert']\" \n                          [label]=\"'Enter text'\"></app-text-inputs>    \n                        <app-text-inputs [formControl]=\"advertForm.controls['time']\" \n                        [type]=\"'number'\" [label]=\"'Lifespan(seconds)'\"></app-text-inputs>               \n                    <button    [disabled]=\"advertForm.invalid\" \n                    class=\"btn btn-lg btn-success\" type=\"submit\" style=\"margin-top:10px ;\" >\n                       Add\n                    </button>  \n                </div>\n               \n            </form>\n        </div>\n    </div>\n   \n   \n    \n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}