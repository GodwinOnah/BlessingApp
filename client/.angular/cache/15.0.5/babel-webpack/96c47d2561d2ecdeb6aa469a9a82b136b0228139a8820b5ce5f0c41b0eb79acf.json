{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { LoginComponent } from '../../login/login.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../account.service\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/material/dialog\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../../text-inputs/text-inputs.component\";\nexport class ForgotpasswrdComponent {\n  constructor(formbuilder, router, accountService, toastr, matdialog) {\n    this.formbuilder = formbuilder;\n    this.router = router;\n    this.accountService = accountService;\n    this.toastr = toastr;\n    this.matdialog = matdialog;\n    this.errors = null;\n    this.password = \"\";\n    this.view1 = true;\n    this.view2 = true;\n    this.changetype1 = true;\n    this.changetype2 = true;\n    this.RegularExpression = \"^(?=(.*[a-z]){1,})(?=(.*[\\\\d]){1,})(?=(.*[\\\\W]){1,})(?!.*\\\\s).{7,30}$\";\n    this.forgotpasswrdForm = this.formbuilder.group({\n      Email: ['', [Validators.required]],\n      Password1: ['', [Validators.required, Validators.pattern(this.RegularExpression)]],\n      Password2: ['', [Validators.required, Validators.pattern(this.RegularExpression)]]\n    });\n  }\n  onForgotPassSubmit() {\n    const email = this.forgotpasswrdForm?.get('Email')?.value;\n    this.accountService.CheckEmail(email).subscribe({\n      next: yes => {\n        if (yes) this.accountService.ForgotPasswrd(this.forgotpasswrdForm.value).subscribe({\n          next: () => {\n            this.toastr.success(\"Password Changed succecssfully\");\n          },\n          error: error => {\n            this.toastr.success(\"Password mismatch\");\n            this.errors = error.errors;\n          }\n        });else {\n          this.toastr.success(\"Not a registered user\");\n        }\n      },\n      error: error => {\n        this.toastr.success(\"Check your server\");\n        this.errors = error.errors;\n      }\n    });\n  }\n  openLoginDialog() {\n    this.matdialog.open(LoginComponent, {\n      height: 'auto',\n      width: '50%'\n    });\n  }\n  viewpass1() {\n    this.view1 = !this.view1;\n    this.changetype1 = !this.changetype1;\n  }\n  viewpass2() {\n    this.view2 = !this.view2;\n    this.changetype2 = !this.changetype2;\n  }\n}\nForgotpasswrdComponent.ɵfac = function ForgotpasswrdComponent_Factory(t) {\n  return new (t || ForgotpasswrdComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserAccountService), i0.ɵɵdirectiveInject(i4.ToastrService), i0.ɵɵdirectiveInject(i5.MatDialog));\n};\nForgotpasswrdComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ForgotpasswrdComponent,\n  selectors: [[\"app-forgotpasswrd\"]],\n  decls: 23,\n  vars: 13,\n  consts: [[2, \"background-color\", \"lightgray\", \"padding-bottom\", \"20px\", \"border\", \"5px solid yellow\"], [1, \"align-content-left\"], [\"mat-dialog-close\", \"\", 1, \"btn\", \"btn-danger\", 2, \"margin-top\", \"15px\", \"margin-left\", \"5px\"], [1, \"d-flex\", \"justify-content-center\", 2, \"width\", \"auto\"], [1, \"col-3\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"text-center\", \"mt-5\"], [3, \"formControl\", \"type\", \"label\"], [1, \"form-group\"], [1, \"eyeicon1\", 3, \"click\"], [3, \"ngClass\"], [1, \"eyeicon2\", 3, \"click\"], [1, \"d-grid\"], [\"type\", \"submit\", 1, \"btn\", \"btn-lg\", \"btn-success\", 2, \"margin-top\", \"10px\", 3, \"disabled\"], [1, \"d-flex\", \"justify-content-between\", \"mt-4\", 2, \"color\", \"blue\", \"font-size\", \"smaller\", \"cursor\", \"pointer\"], [3, \"click\"]],\n  template: function ForgotpasswrdComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n      i0.ɵɵtext(3, \" x \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"div\", 4)(6, \"form\", 5);\n      i0.ɵɵlistener(\"ngSubmit\", function ForgotpasswrdComponent_Template_form_ngSubmit_6_listener() {\n        return ctx.onForgotPassSubmit();\n      });\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelement(8, \"app-text-inputs\", 7);\n      i0.ɵɵelementStart(9, \"div\", 8);\n      i0.ɵɵelement(10, \"app-text-inputs\", 7);\n      i0.ɵɵelementStart(11, \"span\", 9);\n      i0.ɵɵlistener(\"click\", function ForgotpasswrdComponent_Template_span_click_11_listener() {\n        return ctx.viewpass1();\n      });\n      i0.ɵɵelement(12, \"i\", 10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 8);\n      i0.ɵɵelement(14, \"app-text-inputs\", 7);\n      i0.ɵɵelementStart(15, \"span\", 11);\n      i0.ɵɵlistener(\"click\", function ForgotpasswrdComponent_Template_span_click_15_listener() {\n        return ctx.viewpass2();\n      });\n      i0.ɵɵelement(16, \"i\", 10);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"div\", 12)(18, \"button\", 13);\n      i0.ɵɵtext(19, \" Change \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"div\", 14)(21, \"a\", 15);\n      i0.ɵɵlistener(\"click\", function ForgotpasswrdComponent_Template_a_click_21_listener() {\n        return ctx.openLoginDialog();\n      });\n      i0.ɵɵtext(22, \"login\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.forgotpasswrdForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formControl\", ctx.forgotpasswrdForm.controls[\"Email\"])(\"type\", \"email\")(\"label\", \"Email Address\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formControl\", ctx.forgotpasswrdForm.controls[\"Password1\"])(\"type\", ctx.changetype1 ? \"password\" : \"text\")(\"label\", \"Choose password\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", ctx.view1 ? \"fa fa-eye\" : \"fa fa-eye-slash\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formControl\", ctx.forgotpasswrdForm.controls[\"Password2\"])(\"type\", ctx.changetype2 ? \"password\" : \"text\")(\"label\", \"Confirm Password\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", ctx.view2 ? \"fa fa-eye\" : \"fa fa-eye-slash\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.forgotpasswrdForm.invalid);\n    }\n  },\n  dependencies: [i6.NgClass, i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormControlDirective, i1.FormGroupDirective, i7.TextInputsComponent, i5.MatDialogClose],\n  styles: [\".form-group[_ngcontent-%COMP%]   app-text-inputs[_ngcontent-%COMP%] {\\n  padding-right: 35px;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.eyeicon1[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: auto;\\n  right: -1px;\\n  top: 13px;\\n  padding: 8px;\\n  margin-left: 5px;\\n}\\n\\n.eyeicon2[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: auto;\\n  right: -1px;\\n  top: 13px;\\n  padding: 8px;\\n  margin-left: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQWNjb3VudC9mb3Jnb3RfcGFzc3dvcmQvZm9yZ290cGFzc3dyZC9mb3Jnb3RwYXNzd3JkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksbUJBQUE7QUFDSjs7QUFFQTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtBQUNKOztBQUdBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUFBSjs7QUFHQTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxTQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBQUoiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1ncm91cCAgYXBwLXRleHQtaW5wdXRze1xuICAgIHBhZGRpbmctcmlnaHQ6IDM1cHg7XG59XG5cbi5mb3JtLWdyb3Vwe1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogMTAwJTtcbn1cblxuXG4uZXllaWNvbjF7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIHJpZ2h0OiAtMXB4O1xuICAgIHRvcDogMTNweDtcbiAgICBwYWRkaW5nOiA4cHg7XG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcbn1cblxuLmV5ZWljb24ye1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogYXV0bztcbiAgICByaWdodDogLTFweDtcbiAgICB0b3A6IDEzcHg7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","LoginComponent","ForgotpasswrdComponent","constructor","formbuilder","router","accountService","toastr","matdialog","group","Email","required","Password1","pattern","RegularExpression","Password2","onForgotPassSubmit","email","forgotpasswrdForm","get","value","CheckEmail","subscribe","next","yes","ForgotPasswrd","success","error","errors","openLoginDialog","open","height","width","viewpass1","view1","changetype1","viewpass2","view2","changetype2","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/godwinonah/Documents/BagShop-Client-App/client/src/app/Account/forgot_password/forgotpasswrd/forgotpasswrd.component.ts","/Users/godwinonah/Documents/BagShop-Client-App/client/src/app/Account/forgot_password/forgotpasswrd/forgotpasswrd.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder,Validators } from '@angular/forms';\nimport {Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport {  MatDialog } from '@angular/material/dialog';\nimport { LoginComponent } from '../../login/login.component';\nimport { UserAccountService } from '../../account.service';\n\n\n\n\n@Component({\n  selector: 'app-forgotpasswrd',\n  templateUrl: './forgotpasswrd.component.html',\n  styleUrls: ['./forgotpasswrd.component.scss']\n})\nexport class ForgotpasswrdComponent {\n  errors : string[] | null = null;\n\n  password : string = \"\";\n  view1 : boolean = true;\n  view2 : boolean = true;\n  changetype1 : boolean = true;\n  changetype2 : boolean = true;\n\n  RegularExpression=\"^(?=(.*[a-z]){1,})(?=(.*[\\\\d]){1,})(?=(.*[\\\\W]){1,})(?!.*\\\\s).{7,30}$\";\n\n  constructor(\n    private formbuilder:FormBuilder,\n    private router : Router,\n    private accountService:UserAccountService,\n    private toastr : ToastrService,\n    private matdialog:MatDialog\n    \n   ){\n\n   \n  }\n\n  forgotpasswrdForm = this.formbuilder.group({\n        Email: ['',[Validators.required]],\n        Password1: ['',[Validators.required,Validators.pattern(this.RegularExpression)]],\n        Password2: ['',[Validators.required,Validators.pattern(this.RegularExpression)]]\n  });\n\n  onForgotPassSubmit(){\n\n    const email = this.forgotpasswrdForm?.get('Email')?.value;\n    this.accountService.CheckEmail(email).subscribe({\n      next: yes => {\n        if(yes)\n        this.accountService.ForgotPasswrd(this.forgotpasswrdForm.value).subscribe({\n          next: ()=> {\n            this.toastr.success(\"Password Changed succecssfully\") },\n            error : error => {\n              this.toastr.success(\"Password mismatch\") \n              this.errors = error.errors}\n        });\n\n       else{\n        this.toastr.success(\"Not a registered user\") \n       }\n      },\n        error : error => {\n          this.toastr.success(\"Check your server\") \n          this.errors = error.errors}\n    });   \n}\n\n  openLoginDialog(){\n    this.matdialog.open(LoginComponent,\n      {height: 'auto',\n    width: '50%'});\n  }\n\n  viewpass1(){\n    this.view1 = !this.view1;\n    this.changetype1 = !this.changetype1;\n  }\n\n  viewpass2(){\n    this.view2 = !this.view2;\n    this.changetype2 = !this.changetype2;\n  }\n\n\n\n \n\n \n\n}\n","<div style=\"background-color: lightgray;padding-bottom: 20px;border:5px solid yellow ;\">\n<div class=\"align-content-left\">\n    <button style=\"margin-top: 15px;margin-left: 5px;\"\n    class=\" btn btn-danger\"  mat-dialog-close>\n        x\n    </button>\n    </div>\n\n\n<div class=\"d-flex justify-content-center\" style=\"width: auto;\">\n\n    <div class=\"col-3\">\n\n        <form [formGroup] = \"forgotpasswrdForm\" (ngSubmit)=\"onForgotPassSubmit()\">\n            <div class=\"text-center mt-5\">\n                <app-text-inputs [formControl]=\"forgotpasswrdForm.controls['Email']\" [type]=\"'email'\"  [label]=\"'Email Address'\"></app-text-inputs>\n                <div class=\"form-group\">    \n                <app-text-inputs [formControl]=\"forgotpasswrdForm.controls['Password1']\" [type]=\"changetype1?'password':'text'\"   [label]=\"'Choose password'\"></app-text-inputs>\n                <span class=\"eyeicon1\" (click)=\"viewpass1()\"><i [ngClass]=\"view1?'fa fa-eye':'fa fa-eye-slash'\"></i></span>\n                </div>\n                <div class=\"form-group\">   \n                    <app-text-inputs [formControl]=\"forgotpasswrdForm.controls['Password2']\" [type]=\"changetype2?'password':'text'\"  [label]=\"'Confirm Password'\"></app-text-inputs>\n                    <span class=\"eyeicon2\" (click)=\"viewpass2()\"><i [ngClass]=\"view2?'fa fa-eye':'fa fa-eye-slash'\"></i></span>\n                </div>\n            </div>\n            \n            <div class=\"d-grid\">\n               \n                <button  [disabled]=\"forgotpasswrdForm.invalid\" \n                class=\"btn btn-lg btn-success\" type=\"submit\" style=\"margin-top:10px ;\" >\n                   Change\n                </button>\n               \n            </div>\n            <div class=\"d-flex justify-content-between mt-4\" style=\"color: blue;  font-size: smaller; cursor: pointer;\">\n                 <a (click)=\"openLoginDialog()\">login</a>\n            </div>\n           \n        </form>\n    </div>\n</div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}